<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fast Food Planner</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: auto; padding: 20px; }
        #restaurant-list button { display: block; width: 100%; padding: 15px; margin-bottom: 10px; font-size: 18px; cursor: pointer; }
    </style>
</head>
<body>

    <h1>Choose a Restaurant</h1>

    <div id="restaurant-list">
        <p>Loading restaurants...</p>
    </div>

    <script>
        // This code runs when the page is fully loaded
        window.onload = function() {
            // This is the URL of the API endpoint you built
            const apiUrl = 'http://127.0.0.1:5000/restaurants';

            // Use the fetch() function to make a request to your API
            fetch(apiUrl)
                .then(response => response.json()) // Convert the response to JSON
                .then(data => {
                    // Get the div where we will put the buttons
                    const restaurantListDiv = document.getElementById('restaurant-list');
                    restaurantListDiv.innerHTML = ''; // Clear the "Loading..." message

                    // Loop through the list of restaurants received from the API
                    data.restaurants.forEach(name => {
                        // Create a new button element
                        const button = document.createElement('button');
                        button.textContent = name;
                        // (Later, we will add an onclick event here)

                        // Add the new button to the page
                        restaurantListDiv.appendChild(button);
                    });
                })
                .catch(error => {
                    // Handle any errors, like if the API server isn't running
                    console.error('Error fetching restaurants:', error);
                    const restaurantListDiv = document.getElementById('restaurant-list');
                    restaurantListDiv.innerHTML = '<p>Error: Could not connect to the API. Is your Python server running?</p>';
                });
        };
    </script>

</body>
</html>